<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Profile Card Creator</title>

		<link rel="stylesheet" href="./u7project-style.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />

	</head>
	<body>
		<div id="title-card" class="card">
			<div class="card-content">
				<h1>Create a Profile Card!</h1>
				<p>Press "Start" to begin!</p>
			</div>
			<a class="button start-button unselectable-text" onclick="startGame()">
				<p>Start</p>
				<span class="icon-container"><span class="arrows">&gt;&gt;&gt;</span></span>
			</a>
		</div>

		<div id="details-card" class="card card-hidden">
			<div class="card-content">
				<h2>First, enter some personal details.</h2>
				<form id="details-form">
					<p>Name:</p>
					<input id="name-input" type="text" placeholder="Your Username" required />
					<p>Age:</p>
					<div id="age-number">
						<button type="button" id="age-dec-btn" class="age-incdec unselectable-text">-</button>
						<input id="age-input" name="amount" type="number" min="0"  readonly value="0" required />
						<button type="button" id="age-inc-btn" class="age-incdec unselectable-text">+</button>
					</div>
				</form>
			</div>
			<div class="button-container">
				<a class="button back-button unselectable-text" onclick="previousPage()">
					<p>Back</p>
					<span class="icon-container"><span class="arrows">&lt;&lt;&lt;</span></span>
				</a>
				<a class="button next-button unselectable-text" onclick="nextPage()">
					<p>Next</p>
					<span class="icon-container"><span class="arrows">&gt;&gt;&gt;</span></span>
				</a>
			</div>
		</div>

		<div id="moredetails-card" class="card card-hidden">
			<div class="card-content">
				<h2>Next, personalize your profile.</h2>
				<form id="moredetails-form">
					<p>Favorite Hobby:</p>
					<input id="hobby-input" type="text" placeholder="Your Favorite Hobby" required />
					<p>Profile Description:</p>
					<input id="description-input" type="text" placeholder="Your Profile Description" required />
				</form>
			</div>
			<div class="button-container">
				<a class="button back-button unselectable-text" onclick="previousPage()">
					<p>Back</p>
					<span class="icon-container"><span class="arrows">&lt;&lt;&lt;</span></span>
				</a>
				<a class="button next-button unselectable-text" onclick="nextPage()">
					<p>Next</p>
					<span class="icon-container"><span class="arrows">&gt;&gt;&gt;</span></span>
				</a>
			</div>
		</div>

		<div id="picture-card" class="card card-hidden">
			<div class="card-content">
				<h2>Next, choose your profile picture:</h2>
				<form id="picture-form">
					<input id="picture-input1" type="radio" name="pfp" value="pfp1" required>
					<input id="picture-input2" type="radio" name="pfp" value="pfp2">
					<input id="picture-input3" type="radio" name="pfp" value="pfp3">
				</form>
			</div>
			<div class="button-container">
				<a class="button back-button unselectable-text" onclick="previousPage()">
					<p>Back</p>
					<span class="icon-container"><span class="arrows">&lt;&lt;&lt;</span></span>
				</a>
					<a class="button next-button unselectable-text" onclick="nextPage()">
					<p>Next</p>
					<span class="icon-container"><span class="arrows">&gt;&gt;&gt;</span></span>
				</a>
			</div>
		</div>

		<script>
			// List all cards in an array
			const cards = [
				document.getElementById("title-card"),
				document.getElementById("details-card"),
				document.getElementById("moredetails-card"),
				document.getElementById("picture-card")

			];

			// Keep track of the current page
			let currentPage = 0;

			// Initialize user data
			let userData = {
				name: "",
				age: "",
				hobby: "",
				description: "",
				pfp: 0,
				color: ""
			};

			function startGame() {
				cards[currentPage].classList.add("card-hidden");
				currentPage++;
				cards[currentPage].classList.remove("card-hidden");
			}

			function nextPage() {
				const currentCard = cards[currentPage];
				if (currentCard.id === "details-card") {
					const form = document.getElementById("details-form");
					const ageInput = document.getElementById("age-input");

					// --- Custom Validation Logic ---
					ageInput.setCustomValidity(""); // Clear previous custom messages
					if (parseInt(ageInput.value) === 0) {
						ageInput.setCustomValidity("Please select an age greater than 0.");
					}

					if (!form.checkValidity()) {
						form.reportValidity();
						return;
					}

					userData.name = document.getElementById("name-input").value;
					userData.age = document.getElementById("age-input").value;
					console.log("Current User Data:", userData);
				}

				if (currentPage < cards.length - 1) {
					cards[currentPage].classList.add("card-hidden");
					currentPage++;
					cards[currentPage].classList.remove("card-hidden");
				}
			}

			function previousPage() {
				if (currentPage > 0) {
					cards[currentPage].classList.add("card-hidden");
					currentPage--;
					cards[currentPage].classList.remove("card-hidden");
				}
			}

			function inc(element) {
				let el = document.querySelector(`[name="${element}"]`);
				el.value = parseInt(el.value) + 1;
			}

			function dec(element) {
				let el = document.querySelector(`[name="${element}"]`);
				if (parseInt(el.value) > 0) {
					el.value = parseInt(el.value) - 1;
				}
			}

			document.getElementById("age-inc-btn").addEventListener("click", () => inc("amount"));
			document.getElementById("age-dec-btn").addEventListener("click", () => dec("amount"));


		</script>
	</body>
</html>
